(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{3330:function(a,t,e){"use strict";e.r(t);var n=e("c268"),s=e.n(n);for(var i in n)"default"!==i&&function(a){e.d(t,a,function(){return n[a]})}(i);t["default"]=s.a},6210:function(a,t,e){"use strict";e.r(t);var n=e("bbba"),s=e("3330");for(var i in s)"default"!==i&&function(a){e.d(t,a,function(){return s[a]})}(i);var o=e("2877"),d=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"7ecdcecc",null);t["default"]=d.exports},bbba:function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement;a._self._c},s=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return s})},c268:function(a,t,e){"use strict";(function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e("7a9a"),s=e("f2c4"),i={data:function(){return{isHidePassword:!0,phone:"",url:"http://b-ssl.duitang.com/uploads/item/201505/14/20150514041841_Ja8nU.jpeg"}},onLoad:function(){},methods:{isHidePasswordClick:function(){this.isHidePassword=!this.isHidePassword},submit:function(){var a="users/login?id="+this.phone+"&password="+this.password;(0,n.httpRequest)(a,this.findCallback)},findCallback:function(t,e){"fail"!=t&&200==e.data.code?(this.$user.setUserID(this.phone),a.showModal({content:"登陆成功"}),a.setStorageSync("userinfo",e),a.reLaunch({url:"../hall/hall"})):a.showModal({content:"密码错误"})},wechatLogin:function(){(0,s.getUserInfo)(this.saveUserInfo)},saveUserInfo:function(a){if(null!=a){var t="users/wechatlogin?wxid="+a.openId+"&headUrl="+a.avatarUrl+"&nickname="+a.nickName;(0,n.httpRequest)(t,this.wechatCallback)}},wechatCallback:function(t,e){if(a.showModal({content:"wechatCallback"}),"fail"==t)a.showModal({content:"登陆失败2"});else if(a.showModal({content:e.data.code}),0==e.data.code)this.$user.setUserID(e.data.id),this.$user.setName(e.data.name),this.$user.setNickName(e.data.nickname),this.$user.setHeadUrl(e.data.head),setTimeout(function(){a.reLaunch({url:"../hall/hall"})},2e3);else{a.showModal({content:"----------adduser----------"});var s="users/adduser?wxid="+e.data.wxid+"&headUrl="+e.data.head+"&nickname="+e.data.nickname;(0,n.httpRequest)(s,this.adduserCallback)}},adduserCallback:function(t,e){a.showModal({title:null==e.data,content:"----------adduserCallback----------"}),null!=e.data&&(a.showModal({title:e.data.id+"----2---name:"+e.data.name,content:e.data.nickname+"------2-----head:"+e.data.headUrl.substring(0,20)}),"fail"==t?a.showModal({content:"登陆失败3"}):200==e.data.code&&(this.$user.setUserID(e.data.id),this.$user.setName(e.data.name),this.$user.setNickName(e.data.nickname),this.$user.setHeadUrl(e.data.headUrl),setTimeout(function(){a.reLaunch({url:"../hall/hall"})},2e3)))}}};t.default=i}).call(this,e("6e42")["default"])}},[["9c18","common/runtime","common/vendor"]]]);